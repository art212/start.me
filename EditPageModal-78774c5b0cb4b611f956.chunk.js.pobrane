(window.webpackJsonp=window.webpackJsonp||[]).push([[7,41,324],{713:function(e,t,n){},716:function(e,t,n){"use strict";var i=n(3),s=n(489),o=n(488),a=n(27),r={name:"StandardButton",components:{ThreeDotsSpinner:s.default,PremiumMark:o.default,SvgStrokeIcon:a.default},props:{caption:i.a.string.isRequired.def(""),popup:i.a.string,href:i.a.string.def(""),isDisabled:i.a.bool.def(!1),isHidden:i.a.bool.def(!1),isAccent:i.a.bool.def(!1),isAccentLight:i.a.bool.def(!1),isWarning:i.a.bool.def(!1),icon:i.a.string.def(""),hasInlineIcon:i.a.bool.def(!1),target:i.a.oneOf(["_blank","_self","_top"]).def("_self")}},l=(n(717),n(8)),c=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("a",{staticClass:"standard-button",class:{"standard-button_accent":e.isAccent,"standard-button_light-accent":e.isAccentLight,"standard-button_warning":e.isWarning,"standard-button_disabled":e.isDisabled,"standard-button_hidden":e.isHidden},attrs:{href:e.href.length>0?e.href:"javascript:;",target:e.target,title:e.popup}},[t("span",{staticClass:"standard-button__caption"},[[e._v(" "+e._s(e.caption)+" ")],e._v(" "),e.icon&&e.hasInlineIcon?t("SvgStrokeIcon",{staticClass:"standard-button__icon standard-button__icon_inline",attrs:{icon:e.icon,options:{size:14}}}):e._e()],2),e._v(" "),e.icon&&!e.hasInlineIcon?t("SvgStrokeIcon",{staticClass:"standard-button__icon",attrs:{icon:e.icon,options:{size:14}}}):e._e()],1)}),[],!1,null,null,null);t.a=c.exports},717:function(e,t,n){"use strict";n(713)},718:function(e,t,n){},726:function(e,t,n){"use strict";n.r(t);var i=n(4),s=n.n(i),o=n(3),a=n(15),r=n(27),l={name:"SelectInput",components:{SvgStrokeIcon:r.default},props:{options:o.a.arrayOf(o.a.shape({id:o.a.any.isRequired,value:o.a.any,label:o.a.string.isRequired}).loose).def([]),value:o.a.any.def(null),prefix:o.a.string.def(""),isNested:o.a.bool.def(!1),isCustom:o.a.bool.def(!1),isBookmarkletStyle:o.a.bool.def(!1),isDisabled:o.a.bool.def(!1),isReduced:o.a.bool.def(!1),isIncreased:o.a.bool.def(!1),isEnlarged:o.a.bool.def(!1),isWrapped:o.a.bool.def(!1)},data:function(){return{currentValue:this.value}},computed:s()({},Object(a.c)(["isDarkTheme"]),{selected:function(){var e=this;try{var t=this.options.find((function(t){return t.id===String(e.selectedValue)}));return t?{avatar:this.$urlHelper.getFacebookAvatarUrl(t.avatar),icon:this.isCustom&&t.icon,label:this.isCustom&&t.label}:{}}catch(n){return{}}},selectedValue:{get:function(){return this.value},set:function(e){this.setValue(e)}}}),methods:{setValue:function(e){this.currentValue=e,this.$emit("input",this.currentValue)},openDropdown:function(e){var t=this,n=this.options.map((function(e){return s()({},e,{name:e.label,favicon:e.avatar,isLink:!1,isOverlined:!1,path:"",clickHandler:function(){if(e.clickHandler)e.clickHandler();else{var n=e.id;"null"===n&&(n=null),t.setValue(n)}}})})),i=this.$el.getBoundingClientRect(),o=i.top,a=i.left,r=i.width,l=o+i.height+4;this.$eventBus.$emit("toggle-contextmenu",{isBoundByPage:!0,forceOpen:!0,isPadded:this.isWrapped,dropdownWidth:r-2,positionToRightOfX:!0,positionX:a+1,positionY:l,items:n,event:e})}}},c=(n(730),n(8)),u=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"select-input",class:{"select-input_theme_dark":e.isDarkTheme,"select-input_style_bookmarklet":e.isBookmarkletStyle,"select-input_has-logo":e.selected.avatar||e.selected.icon,"select-input_disabled":e.isDisabled,"select-input_reduced":e.isReduced,"select-input_increased":e.isIncreased,"select-input_enlarged":e.isEnlarged},on:{click:function(e){e.stopPropagation()}}},[e.selected.avatar?t("span",{staticClass:"select-input__avatar",style:{backgroundImage:`url('${e.$urlHelper.getFacebookAvatarUrl(e.selected.avatar)}')`}}):e._e(),e._v(" "),e.isCustom?t("div",{staticClass:"select-input__field",on:{click:e.openDropdown}},[e._v(e._s(`${e.prefix}${e.selected.label||""}`))]):t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"select-input__field",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedValue=t.target.multiple?n:n[0]}}},[e.isNested?e._l(e.options,(function(n){return t("optgroup",{key:n.id,staticClass:"select-input__optgroup",attrs:{label:n.label}},e._l(n.value,(function(n){return t("option",{key:n.id,staticClass:"select-input__option",domProps:{value:n.id}},[e._v("\n          "+e._s(e.selectedValue===n.id?`${e.prefix}${n.label}`:n.label)+"\n        ")])})),0)})):e._l(e.options,(function(n){return t("option",{key:n.id,staticClass:"select-input__option",attrs:{disabled:n.disabled},domProps:{value:n.value}},[e._v("\n        "+e._s(e.selectedValue===n.value?`${e.prefix}${n.label}`:n.label)+"\n      ")])}))],2),e._v(" "),e.isDisabled?e._e():t("SvgStrokeIcon",{staticClass:"select-input__chevron",attrs:{icon:"chevron-down",options:{size:16}}})],1)}),[],!1,null,null,null);t.default=u.exports},730:function(e,t,n){"use strict";n(718)},734:function(e,t,n){},740:function(e,t,n){},745:function(e,t,n){"use strict";var i=n(3),s=n(27),o={name:"GenericButton",components:{SvgStrokeIcon:s.default},inject:{components:{default:{SvgStrokeIcon:s.default}}},props:{caption:i.a.string,isDisabled:i.a.bool.def(!1),isSmall:i.a.bool.def(!1),buttonClass:i.a.string.def(""),icon:i.a.string.def(""),buttonType:i.a.oneOf(["neutral","ok","info","disabled"]).def("neutral"),alt:i.a.string.def(""),title:i.a.string.def("")}},a=(n(754),n(8)),r=Object(a.a)(o,(function(e,t){return e("button",{staticClass:"generic-button",class:[t.props.buttonClass,`generic-button_type_${t.props.isDisabled?"disabled":t.props.buttonType}`,{"generic-button_small":t.props.isSmall}],attrs:{alt:t.props.alt,title:t.props.title},on:{click:function(e){return e.stopPropagation(),t.listeners.click.apply(null,arguments)}}},[t.props.icon?e(t.injections.components.SvgStrokeIcon,{tag:"component",staticClass:"generic-button__icon",attrs:{icon:t.props.icon,options:{size:14}}}):t._e(),t._v("\n  "+t._s(t.props.caption)+"\n")],1)}),[],!0,null,null,null);t.a=r.exports},754:function(e,t,n){"use strict";n(734)},755:function(e,t,n){},756:function(e,t,n){},769:function(e,t,n){"use strict";n.r(t);var i=n(3),s=n(778),o=n(745),a=n(27),r=n(127),l=n.n(r),c={name:"InputField",components:{CustomDropdown:s.a,GenericButton:o.a,SvgStrokeIcon:a.default},props:{options:i.a.shape({placeholder:i.a.string.def(""),emitEventName:i.a.string.def(""),linkTitle:i.a.string.isRequired,isRequired:i.a.bool.def(!1),isDisabled:i.a.bool.def(!1),hasAutofocus:i.a.bool.def(!1),saveOnEnter:i.a.bool.def(!1),isBorderless:i.a.bool.def(!1),inputHandler:i.a.func.def((function(){})),icons:i.a.arrayOf(i.a.shape({position:i.a.oneOf(["left","right"]),name:i.a.string.def(""),cursor:i.a.string.def(""),clickHandler:i.a.func.def((function(){}))})),message:i.a.shape({content:i.a.string.def(""),style:i.a.object.def({})}).loose,delay:i.a.integer.def(500),focusHandler:i.a.func.def((function(){})),unfocusHandler:i.a.func.def((function(){})),actionSvg:i.a.func.def((function(){}))}).loose,value:i.a.any.def(""),type:i.a.string.def("text")},data:function(){return{currentValue:this.value,rememberedValue:"",canHaveError:!1,selectedIndex:0,isChangeIgnored:!1,dropdownWidth:"294px"}},computed:{currentValueEmitter:function(){return l()((function(e){this.isChangeIgnored?this.isChangeIgnored=!1:(this.rememberedValue=e,this.$emit("input",this.currentValue))}),this.options.delay)},inputShift:function(){var e={right:!1,left:!1};return this.options.icons&&this.options.icons.map((function(t){e[t.position]=!0})),e},iconClasses:function(){var e={container:{right:{},left:{}},icon:{right:{},left:{}}};return this.options.icons&&this.options.icons.map((function(t){e.container["".concat(t.position)]["input-field__icon-container_".concat(t.position)]=!0,e.icon["".concat(t.position)]["input-field__icon_".concat(t.position)]=!0})),e}},watch:{value:function(e,t){var n=e;if(this.options.isPseudoNumber){n&&!n.match(/^[0-9]+$/g)&&(n=t||"")}this.currentValue=n,this.rememberedValue=n},currentValue:function(e){this.currentValueEmitter(e)}},mounted:function(){this.options.hasAutofocus&&!this.$utils.hasTouchScreen()&&this.$refs.input.focus();var e=this.$refs.input.getBoundingClientRect().width;this.dropdownWidth="".concat(e,"px")},methods:{inputHandler:function(){if(!this.options.inputHandler)return null;this.options.inputHandler(this.currentValue)},checkSensitivity:function(){this.options.focusHandler&&this.options.focusHandler(),this.options.isRequired&&(this.canHaveError=!0)},releaseFocus:function(){this.$emit("input",this.currentValue),this.options.unfocusHandler&&this.options.unfocusHandler()},emitEvent:function(){this.options.emitEventName&&this.$eventBus.$emit(this.options.emitEventName)},emitSelect:function(e){this.currentValue="http".concat(e.https_only?"s":"","://").concat(e.domain),this.$eventBus.$emit("select-bookmark-url",e)},setSelected:function(e){this.selectedIndex=e},changeSelected:function(e){if(this.options.selectArray&&0!==this.options.selectArray.length){var t,n=this.selectedIndex+e;n<-1?(this.selectedIndex=this.options.selectArray.length-1,this.isChangeIgnored=!0,t=this.options.selectArray[this.selectedIndex],this.currentValue="http".concat(t.https_only?"s":"","://").concat(t.domain)):n>this.options.selectArray.length?(this.selectedIndex=0,this.isChangeIgnored=!0,t=this.options.selectArray[this.selectedIndex],this.currentValue="http".concat(t.https_only?"s":"","://").concat(t.domain)):(this.selectedIndex=n,this.isChangeIgnored=!0,n>-1&&n<this.options.selectArray.length?(t=this.options.selectArray[this.selectedIndex],this.currentValue="http".concat(t.https_only?"s":"","://").concat(t.domain)):this.currentValue=this.rememberedValue)}},emitSave:function(){this.$emit("input",this.currentValue),this.$emit("save-on-enter")}}},u=(n(801),n(8)),p=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-field",class:{"input-field_required":e.options.isRequired&&0===e.currentValue.length,"input-field_sensitive":e.canHaveError,"input-field_disabled":e.options.isDisabled,"input-field_borderless":e.options.isBorderless,"input-field_error":e.options.hasError}},["checkbox"===(e.options.inputType?e.options.inputType:e.type)?t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"input-field__input",class:{"input-field__input-shifted_left":e.inputShift.left||e.options.showSpinner,"input-field__input-shifted_right":e.inputShift.right,"input-field__input_disabled":e.options.isDisabled,"input-field__input_error":e.options.hasError},attrs:{autocomplete:"off",autofocus:e.options.hasAutofocus&&!e.$utils.hasTouchScreen(),placeholder:e.options.placeholder,disabled:e.options.isDisabled,type:"checkbox"},domProps:{checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{input:()=>e.inputHandler(e.currentValue),focus:e.checkSensitivity,blur:e.releaseFocus,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.changeSelected(1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.changeSelected(-1)}],keyup:t=>{"Enter"===t.key&&e.options.saveOnEnter&&e.emitSave(),e.inputHandler()},paste:function(e){e.stopPropagation()},change:function(t){var n=e.currentValue,i=t.target,s=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.currentValue=n.concat([null])):o>-1&&(e.currentValue=n.slice(0,o).concat(n.slice(o+1)))}else e.currentValue=s}}}):"radio"===(e.options.inputType?e.options.inputType:e.type)?t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"input-field__input",class:{"input-field__input-shifted_left":e.inputShift.left||e.options.showSpinner,"input-field__input-shifted_right":e.inputShift.right,"input-field__input_disabled":e.options.isDisabled,"input-field__input_error":e.options.hasError},attrs:{autocomplete:"off",autofocus:e.options.hasAutofocus&&!e.$utils.hasTouchScreen(),placeholder:e.options.placeholder,disabled:e.options.isDisabled,type:"radio"},domProps:{checked:e._q(e.currentValue,null)},on:{input:()=>e.inputHandler(e.currentValue),focus:e.checkSensitivity,blur:e.releaseFocus,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.changeSelected(1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.changeSelected(-1)}],keyup:t=>{"Enter"===t.key&&e.options.saveOnEnter&&e.emitSave(),e.inputHandler()},paste:function(e){e.stopPropagation()},change:function(t){e.currentValue=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"input-field__input",class:{"input-field__input-shifted_left":e.inputShift.left||e.options.showSpinner,"input-field__input-shifted_right":e.inputShift.right,"input-field__input_disabled":e.options.isDisabled,"input-field__input_error":e.options.hasError},attrs:{autocomplete:"off",autofocus:e.options.hasAutofocus&&!e.$utils.hasTouchScreen(),placeholder:e.options.placeholder,disabled:e.options.isDisabled,type:e.options.inputType?e.options.inputType:e.type},domProps:{value:e.currentValue},on:{input:[function(t){t.target.composing||(e.currentValue=t.target.value)},()=>e.inputHandler(e.currentValue)],focus:e.checkSensitivity,blur:e.releaseFocus,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.changeSelected(1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.changeSelected(-1)}],keyup:t=>{"Enter"===t.key&&e.options.saveOnEnter&&e.emitSave(),e.inputHandler()},paste:function(e){e.stopPropagation()}}}),e._v(" "),e.options.message?t("div",{staticClass:"input-field__message-container"},[t("span",{staticClass:"input-field__message",style:e.options.message.style},[e._v("\n      "+e._s(e.options.message.content)+"\n    ")])]):e._e(),e._v(" "),e.options.showSpinner?t("span",{staticClass:"input-field__spinner"},[t("SvgStrokeIcon",{staticClass:"input-field__spinner-icon",attrs:{icon:"loader",options:{size:14}}})],1):e._e(),e._v(" "),e._l(e.options.icons,(function(n){return t("div",{key:`icon-${n.position}`,staticClass:"input-field_icons-container"},[t("span",{class:e.iconClasses.container[n.position],style:{cursor:n.cursor},on:{click:n.clickHandler}},[t("SvgStrokeIcon",{class:e.iconClasses.icon[n.position],attrs:{icon:n.name,options:{size:14}}})],1)])})),e._v(" "),e.options.tips?e._l(e.options.tips,(function(n,i){return t("span",{key:`tip_${i}`,class:["input-field__tip",{"input-field__tip_error":n.error,"input-field__tip_success":!n.error&&n.success}]},[e._v(e._s(n.text))])})):e._e(),e._v(" "),e.options.actionButton?t("span",{staticClass:"input-field__button"},[t("GenericButton",{attrs:{"is-small":"","button-type":"ok",caption:e.options.actionButton.label},on:{click:()=>{e.options.actionButton.clickHandler()}}})],1):e._e(),e._v(" "),e.options.actionSvg?t("span",{staticClass:"input-field__svg",on:{click:()=>{e.options.actionSvg()}}},[t("SvgStrokeIcon",{staticClass:"input-field__control_icon",attrs:{icon:"smile",options:{size:14}}})],1):e._e(),e._v(" "),e.options.linkTitle&&e.options.linkTitle.length>0?t("a",{staticClass:"input-field__switcher",on:{click:e.emitEvent}},[e._v(e._s(e.options.linkTitle))]):e._e(),e._v(" "),e.options.selectArray&&e.options.selectArray.length>0?t("div",{staticClass:"input-field__hidden",style:{width:e.dropdownWidth}},[t("CustomDropdown",{attrs:{"select-array":e.options.selectArray,"selected-index":e.selectedIndex},on:{hoverItem:e.setSelected,select:e.emitSelect}})],1):e._e(),e._v(" "),e.options.button&&e.options.button.label?t("a",{staticClass:"input-field__control",on:{click:()=>{e.options.button.clickHandler()}}},[e._v(e._s(e.options.button.label))]):e._e(),e._v(" "),e.options.hasErrorTip?t("span",{staticClass:"input-field__error"},[t("span",{staticClass:"input-field__error-text"},[e._v(e._s(e.options.errorText))])]):e._e()],2)}),[],!1,null,null,null);t.default=p.exports},770:function(e,t,n){"use strict";var i,s=n(56),o=n.n(s),a=n(90),r=n.n(a),l=n(810),c=n(716),u=n(27),p=n(3),d=n(498),h={name:"Modal",components:{Overlay:l.default,StandardButton:c.a,SvgStrokeIcon:u.default,Portal:d.Portal},props:{title:p.a.string.def(""),applyButtonCaption:p.a.string.def(""),discardButtonCaption:p.a.string.def(""),deleteButtonCaption:p.a.string.def(""),hasApplyAction:p.a.bool.def(!1),hasDiscardAction:p.a.bool.def(!1),hasDeleteAction:p.a.bool.def(!1),order:p.a.integer.def(0),valid:p.a.bool.def(!0),collector:p.a.func.def((function(e){return e})),applyOnClose:p.a.bool.def(!1),customClass:p.a.string,deleteAction:p.a.func.def((function(){}))},data:function(){return{isVisible:!1,resolve:function(){},reject:function(){},localApplyButtonCaption:"",localDiscardButtonCaption:"",localDeleteButtonCaption:""}},methods:{apply:function(e){this.isVisible=!1,this.resolve(this.collector(e))},discard:function(){this.isVisible=!1,this.reject(new Error("Modal action discard"))},close:function(){this.applyOnClose?this.apply():this.discard()},deleteClick:function(){this.deleteAction(),this.close()},show:(i=r()(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""===this.applyButtonCaption?this.localApplyButtonCaption=this.$t("done"):this.localApplyButtonCaption=this.applyButtonCaption,""===this.discardButtonCaption?this.localDiscardButtonCaption=this.$t("cancel"):this.localDiscardButtonCaption=this.discardButtonCaption,""===this.deleteButtonCaption?this.localDeleteButtonCaption=this.$t("delete"):this.localDeleteButtonCaption=this.$t(this.deleteButtonCaption),e.abrupt("return",new Promise((function(e,n){t.resolve=e,t.reject=n,t.isVisible=!0})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}},f=h,_=(n(802),n(8)),g=Object(_.a)(f,(function(){var e=this,t=e._self._c;return e.isVisible?t("portal",{attrs:{to:"modalDestination"}},[t("div",{staticClass:"new-modal",on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.close.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.apply.apply(null,arguments)}]}},[t("Overlay",{staticClass:"new-modal__overlay",attrs:{"overlay-on-context-handler":e.close,"on-click-handler":e.close,"semi-transparent":!0}}),e._v(" "),t("transition",[t("div",{staticClass:"new-modal__container",class:e.customClass},[t("div",{staticClass:"new-modal__header"},[t("span",{staticClass:"new-modal__title"},[e._v("\n            "+e._s(e.title)+"\n          ")]),e._v(" "),e._t("headerComponent"),e._v(" "),t("span",{staticClass:"new-modal__close",on:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}},[t("SvgStrokeIcon",{staticClass:"new-modal__control-icon",attrs:{icon:"x",options:{size:14}}})],1)],2),e._v(" "),t("div",{staticClass:"new-modal__component_container"},[e._t("mainComponent")],2),e._v(" "),t("div",{staticClass:"new-modal__footer"},[t("div",{staticClass:"new-modal__footer_buttons"},[e.hasApplyAction?t("StandardButton",{staticClass:"new-modal__footer__button",attrs:{disabled:!e.valid,caption:e.localApplyButtonCaption},nativeOn:{click:function(t){return e.apply.apply(null,arguments)}}}):e._e(),e._v(" "),e.hasDiscardAction?t("StandardButton",{staticClass:"new-modal__footer__button new-modal__footer__button_discard",attrs:{caption:e.localDiscardButtonCaption},nativeOn:{click:function(t){return e.discard.apply(null,arguments)}}}):e._e(),e._v(" "),e.hasDeleteAction?t("StandardButton",{staticClass:"new-modal__footer__button new-modal__footer__button_delete",attrs:{caption:e.localDeleteButtonCaption},nativeOn:{click:function(t){return e.deleteClick.apply(null,arguments)}}}):e._e()],1),e._v(" "),t("div",{staticClass:"new-modal__footer_addon"},[e._t("footerComponent")],2)])])])],1)]):e._e()}),[],!1,null,null,null);t.a=g.exports},774:function(e,t,n){"use strict";n(740)},778:function(e,t,n){"use strict";var i=n(3),s={name:"CustomDropdown",props:{selectArray:i.a.array.isRequired,selectedIndex:i.a.number.def(0)},methods:{emitHoverItem:function(e){this.$emit("hoverItem",e)},emitSelect:function(e){this.$emit("select",e)}}},o=(n(774),n(8)),a=Object(o.a)(s,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"custom-dropdown"},e._l(e.selectArray,(function(n,i){return t("li",{key:i,staticClass:"custom-dropdown__selectable",class:{"custom-dropdown__selectable_selected":i===e.selectedIndex},on:{mousedown:function(t){return e.emitSelect(n)},mouseenter:function(t){return e.emitHoverItem(i)}}},[e._v(e._s(n.domain))])})),0)}),[],!1,null,null,null);t.a=a.exports},801:function(e,t,n){"use strict";n(755)},802:function(e,t,n){"use strict";n(756)},892:function(e,t,n){"use strict";n.r(t);var i,s,o=n(56),a=n.n(o),r=n(90),l=n.n(r),c=n(13),u=n.n(c),p=n(4),d=n.n(p),h=n(726),f=n(770),_=n(769),g=n(3),v=n(27),m=n(15),b=n(809),y={name:"EditPageModal",components:{SvgStrokeIcon:v.default,Modal:f.a,EmojiPickerModal:function(){return Promise.all([n.e(14),n.e(63)]).then(n.bind(null,2204))},SelectInput:h.default,InputField:_.default,MarkdownTextarea:function(){return n.e(9).then(n.bind(null,505))}},props:{page:g.a.oneOfType([Object,null]).def(null)},data:function(){return this.initialData(this.page)},beforeCreate:function(){void 0!==this.$store.state.sidebars&&this.$store.state.sidebars.registered||(this.$store.registerModule("sidebars",b.a),this.$store.dispatch("sidebars/setRegistered"))},computed:d()({},Object(m.c)(["getOrganizations","isProUser"]),{pageOrganizationOptions:function(){var e={id:"null",value:null,label:this.$t("personal_pages"),svgIcon:"user",isModern:!0};if(!this.getOrganizations||!this.getOrganizations.length)return[];var t=this.getOrganizations.filter((function(e){return!!e.parent_organization_id})),n=[],i=[];return this.getOrganizations.forEach((function(e){if(e.parent_organization_id||e.is_enterprise||!e.admin&&!e.is_admin){if(e.is_enterprise){var s=t.filter((function(t){return t.parent_organization_id===e.id&&(t.owner||t.admin||t.is_owner||t.is_admin||e.owner||e.admin||e.is_owner||e.is_admin)}));i.push(d()({},e,{svgIcon:"users",isInactive:!e.owner&&!e.admin&&!e.is_owner&&!e.is_admin})),s.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})).forEach((function(e){i.push(d()({},e,{isMoved:!0,isModern:!0,svgIcon:"users"}))}))}}else n.push(d()({},e,{svgIcon:"users"}))})),i.length&&(n=n.map((function(e){return d()({},e,{isMoved:!0})}))).unshift({id:"-9999",value:-9999,title:this.$t("enterprises.other_teams"),svgIcon:"users",isModern:!0,isInactive:!0}),(n=(n=[].concat(i,u()(n))).map((function(e){var t={id:String(e.id),value:Number(e.id),label:e.title,avatar:"",icon:"",svgIcon:e.svgIcon||"",isInactive:e.isInactive,isMoved:e.isMoved,isModern:!0};return e.avatar&&(t.image=e.avatar,t.svgIcon=""),t}))).unshift(e),n},pageActionsUnified:function(){var e=this,t={id:"duplicate",name:this.$t("duplicate_page"),clickHandler:function(){e.emitCopyPage()}},n={id:"share",name:this.$t("share_page"),clickHandler:function(){e.emitSharePage()}},i={id:"archive",name:this.localPage.is_archived?this.$t("unarchive_page"):this.$t("archive_page"),forPro:!this.isProUser&&!this.localPage.is_archived,nonProHandler:function(){e.$eventBus.$emit("toggle-sidebar",{name:"pagesSidebar"}),e.$utils.isAppleApp()||e.$eventBus.$emit("toggle-sidebar",{name:"becomePro"},{type:"archivedPages"})},clickHandler:function(){e.toggleArchived()}},s={id:"delete",name:this.$t("delete_page"),clickHandler:function(){e.processDeletePage()},isRed:!0},o=[t];return!this.localPage.is_archived&&this.localPage.is_owner&&o.push(n),this.localPage.is_owner&&o.push(i,s),o}}),methods:d()({},Object(m.b)(["changeMenuContext"]),Object(m.b)("page",["editPage","togglePageArchived"]),Object(m.b)("sidebars",["getUserMemberships"]),{initialData:function(e){return e?{optionsTitle:{placeholder:this.$t("new_page_title_placeholder"),emitEventName:"",linkTitle:"",isRequired:!0,hasAutofocus:!0,saveOnEnter:!0,actionSvg:this.showEmojiModal},pageTitle:e.title,pageDescription:e.description,pageOrganizationId:e.organization_id,localPage:e,isLoading:!1}:{optionsTitle:{placeholder:this.$t("new_page_title_placeholder"),emitEventName:"",linkTitle:"",isRequired:!0,hasAutofocus:!0,saveOnEnter:!0,actionSvg:this.showEmojiModal},pageTitle:"",pageDescription:"",pageOrganizationId:0,localPage:null,isLoading:!1}},editPageCollector:function(){var e=this.localPage;return e.title=this.pageTitle,e.description=this.pageDescription,e.organization_id=this.pageOrganizationId,e},showEmojiModal:(s=l()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs.emojiModal.pick();case 3:t=e.sent,n=document.getElementsByClassName("input-field__input"),this.pageTitle=this.pageTitle.slice(0,n[0].selectionStart)+t+this.pageTitle.slice(n[0].selectionStart),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return s.apply(this,arguments)}),editPageWithModal:(i=l()(a.a.mark((function e(t){var n,i=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.getUserMemberships({isStrict:!0}).then((function(){i.isLoading=!1})).catch((function(){i.isLoading=!1})),null!==t?(Object.assign(this.$data,this.initialData(t)),this.localPage=t):Object.assign(this.$data,this.initialData(this.page)),e.prev=3,e.next=6,this.$refs.modal.show();case 6:if((n=e.sent).title.trim()){e.next=9;break}return e.abrupt("return");case 9:n.title=n.title.trim(),null!==n.description&&(n.description=n.description.trim()),this.editPage({page:n,needCommit:!0}).catch(this.$logger.log),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(3);case 16:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e){return i.apply(this,arguments)}),emitCopyPage:function(){this.$eventBus.$emit("copy-page",{page:this.localPage})},emitSharePage:function(){var e=this;(this.localPage.is_editor||this.localPage.is_owner)&&(this.$refs.modal.close(),this.$nextTick((function(){e.$eventBus.$emit("toggle-sidebar",{name:"sharePage"},{page:e.localPage})})))},processPageArchiving:function(e){var t=this;if(e){var n={pageId:e.id,publicId:e.public_id,page:e};this.togglePageArchived(n).then((function(n){e.is_archived=n.is_archived,n.is_archived&&(e.is_starred=!1),t.$extensionHelper.clearCache(),t.$eventBus.$emit("set-page-archived-status",{id:e.id,isArchived:n.is_archived}),t.$nextTick((function(){t.$eventBus.$emit("refreshNavigationData")}))})).catch(this.$logger.log)}},toggleArchived:function(){if(this.localPage.is_owner)return this.isProUser||this.localPage.is_archived?void this.processPageArchiving(this.localPage):(this.$utils.isAppleApp()||this.$eventBus.$emit("toggle-sidebar",{name:"becomePro"},{type:"archivedPages"}),void this.$eventBus.$emit("toggle-sidebar",{name:"pagesSidebar"}))},emitDeletePage:function(e){var t=this.$utils.defer();return this.$eventBus.$emit("delete-page",{page:this.localPage,event:e,deferred:t}),this.$eventBus.$emit("close-sidebars"),t.promise},processDeletePage:function(e){var t=this;this.localPage.is_owner&&this.emitDeletePage(e).then((function(){t.$eventBus.$emit("remove-page",{page:t.localPage})}))},optionsAction:function(e){var t=this,n=this.pageActionsUnified;if(n&&0!==n.length){var i=e.pageX,s=e.pageY+14;this.isContextMenuOpened=!0,this.$eventBus.$emit("toggle-unifiedmenu",{menuElements:n,positionX:i,positionY:s,isScrolled:!0,positionToLeftOfX:!0,closeHandler:function(){t.isContextMenuOpened=!1}})}}})},k=y,C=n(8),w=Object(C.a)(k,(function(){var e=this,t=e._self._c;return t("div",[t("Modal",{ref:"modal",attrs:{"has-apply-action":"",collector:e.editPageCollector,title:e.$t("edit_page")},scopedSlots:e._u([{key:"headerComponent",fn:function(){return[t("span",{staticClass:"new-modal__option",on:{click:e.optionsAction}},[t("SvgStrokeIcon",{staticClass:"new-modal__control-icon",attrs:{icon:"more-vertical",options:{size:14}}})],1)]},proxy:!0},{key:"mainComponent",fn:function(){return[t("div",[t("span",{staticClass:"new-modal__label"},[e._v("\n          "+e._s(e.$t("page_title"))+"\n        ")]),e._v(" "),t("InputField",{staticClass:"new-modal__form_component",attrs:{options:e.optionsTitle},model:{value:e.pageTitle,callback:function(t){e.pageTitle=t},expression:"pageTitle"}}),e._v(" "),t("span",{staticClass:"new-modal__label"},[e._v("\n          "+e._s(e.$t("pure_description"))+"\n        ")]),e._v(" "),t("MarkdownTextarea",{staticClass:"new-modal__form_component",model:{value:e.pageDescription,callback:function(t){e.pageDescription=t},expression:"pageDescription"}}),e._v(" "),e.pageOrganizationOptions.length>0&&!e.isLoading?t("span",{staticClass:"new-modal__label"},[e._v("\n          "+e._s(e.$t("belongs_to"))+"\n        ")]):e._e(),e._v(" "),e.pageOrganizationOptions.length>0&&!e.isLoading?t("SelectInput",{attrs:{options:e.pageOrganizationOptions,"is-custom":!0,"is-wrapped":!0},model:{value:e.pageOrganizationId,callback:function(t){e.pageOrganizationId=t},expression:"pageOrganizationId"}}):e._e()],1),e._v(" "),t("EmojiPickerModal",{ref:"emojiModal"})]},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=w.exports}}]);